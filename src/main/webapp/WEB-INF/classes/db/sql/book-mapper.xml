<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectCountUp">
		UPDATE RESTAURANT
		   SET COUNT = COUNT + 1
	 	 WHERE RES_NO = ?
	 	   AND STATUS = 'Y'
	</entry>
	<entry key="selectRes">
		SELECT 
			   RES_NO
			 , RS.RES_NAME
			 , CEO
			 , PERMIT_NO
			 , ADDRESS
			 , D_ADDRESS
			 , PHONE
			 , PARKING
			 , LONGTITUDE
			 , LATITUDE
			 , R_IMG
			 , OPEN
			 , CLOSE
			 , BREAK_S
			 , BREAK_E
			 , FOOD_CT
			 , (
			 	SELECT COUNT(REVIEW_NO)
			 	  FROM REVIEW
			 	 WHERE RES_NO = ?
			 	) "REVIEW_COUNT"
			 , (
			 	SELECT AVG(STAR)
			 	  FROM REVIEW
			 	 WHERE RES_NO = ?
			 	) "REVIEW_AVG"
			 , COUNT
		  FROM RESTAURANT RS
		 WHERE RS.RES_NO = ?
	       AND STATUS = 'Y'
	</entry>
	<entry key="selectMenu">
		SELECT 
			   MENU_NO
			 , MENU_NAME
			 , PRICE
			 , MENU_DES
			 , M_IMG
		  FROM RESTAURANT RS
		  JOIN MENU M ON (RS.RES_NO = M.RES_NO)
		 WHERE RS.RES_NO = ?
	       AND STATUS = 'Y'
	</entry>
	<entry key="selectBookNo">
		SELECT BOOK_NO
		  FROM BOOK B
		  JOIN RESTAURANT R ON (B.RES_NO = R.RES_NO)
		 WHERE B.RES_NO = ?
		   AND R.STATUS = 'Y'
	</entry>
	
	<entry key="selectPoint">
		SELECT 
			   POINT_NO
			 , POINT_NOW
		  FROM POINT
		 WHERE USER_NO = ?
	</entry>
	
	<!-- <entry key="selectReview">
		SELECT
			   REVIEW_NO
			 , RE.RES_NO
			 , USER_NO
			 , BOOK_NO
			 , REVIEW_CONTENT
			 , RE.STAR
			 , CREATE_DATE
			 , RE.MODIFY_DATE
			 , GOOD
			 , RE.COUNT
		  FROM REVIEW RE
		  JOIN RESTAURANT RS ON (RE.RES_NO = RS.RES_NO)
		  JOIN ATTACHMENT AT ON (REF_BNO = REVIEW_NO)
		 WHERE RE.RES_NO = ?
		   AND RE.STATUS = 'Y'  
	</entry> -->
</properties>